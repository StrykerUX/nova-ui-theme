/**
 * NovaUI - Estilos específicos para modo oscuro
 * Estilo: Soft Neubrutalism
 */

/* 
 * Modo oscuro manual cuando se añade la clase dark-mode al elemento html o body 
 */
html.dark-mode, body.dark-mode {
  --color-background: #2A2D45;
  --color-background-alt: #343A5E;
  --color-text: var(--color-light);
  --color-text-light: #A0AEC0;
  
  /* Soft Neubrutalism shadows para modo oscuro */
  --shadow-sm: 3px 3px 0 rgba(0, 0, 0, 0.2);
  --shadow-md: 3px 3px 0 rgba(0, 0, 0, 0.3);
  --shadow-lg: 5px 5px 0 rgba(0, 0, 0, 0.4);
  
  --border-color: #3F4577;
  
  --card-background: #343A5E;
  --input-background: #2A2D45;
  --header-background: #2A2D45;
  --sidebar-background: #343A5E;
  --footer-background: #343A5E;
}

/* 
 * Estilos específicos para componentes en modo oscuro 
 */
html.dark-mode .card, 
body.dark-mode .card {
  background-color: #343A5E;
  border-color: #4E56A6;
}

html.dark-mode .button, 
body.dark-mode .button {
  box-shadow: 3px 3px 0 rgba(0, 0, 0, 0.3);
}

html.dark-mode .site-header, 
body.dark-mode .site-header {
  border-color: #3F4577;
}

html.dark-mode .site-footer, 
body.dark-mode .site-footer {
  border-color: #3F4577;
}

html.dark-mode .theme-toggle, 
body.dark-mode .theme-toggle {
  background-color: #3F4577;
  border-color: #4E56A6;
}

html.dark-mode .theme-toggle:hover, 
body.dark-mode .theme-toggle:hover {
  background-color: #4E56A6;
}

html.dark-mode input, 
body.dark-mode input,
html.dark-mode textarea, 
body.dark-mode textarea,
html.dark-mode select, 
body.dark-mode select {
  background-color: #2A2D45;
  border-color: #3F4577;
  color: var(--color-light);
}

html.dark-mode input:focus, 
body.dark-mode input:focus,
html.dark-mode textarea:focus, 
body.dark-mode textarea:focus,
html.dark-mode select:focus, 
body.dark-mode select:focus {
  border-color: var(--color-primary);
  box-shadow: 0 0 0 2px rgba(255, 107, 107, 0.3);
}

html.dark-mode table th, 
body.dark-mode table th {
  background-color: #3F4577;
  border-color: #4E56A6;
}

html.dark-mode table td, 
body.dark-mode table td {
  border-color: #3F4577;
}

/* Ajustes para iconos y badges en modo oscuro */
html.dark-mode .badge, 
body.dark-mode .badge {
  background-color: rgba(255, 255, 255, 0.05);
}

/* Ajustes para las tarjetas estilo neobrutalism en modo oscuro */
html.dark-mode .card, 
body.dark-mode .card {
  box-shadow: 3px 3px 0 rgba(0, 0, 0, 0.3);
}

html.dark-mode .alert-success, 
body.dark-mode .alert-success {
  background-color: rgba(123, 201, 80, 0.1);
}

html.dark-mode .alert-warning, 
body.dark-mode .alert-warning {
  background-color: rgba(255, 165, 82, 0.1);
}

html.dark-mode .alert-error, 
body.dark-mode .alert-error {
  background-color: rgba(247, 111, 142, 0.1);
}

/* 
 * Sobreescritura de colores para elementos específicos 
 */
html.dark-mode .progress-container, 
body.dark-mode .progress-container {
  background-color: #3F4577;
  border-color: #4E56A6;
}

html.dark-mode .resource-value, 
body.dark-mode .resource-value {
  background-color: #3F4577;
  border-color: #4E56A6;
}

html.dark-mode .user-dropdown, 
body.dark-mode .user-dropdown {
  background-color: #343A5E;
  border-color: #4E56A6;
}

html.dark-mode .user-dropdown li, 
body.dark-mode .user-dropdown li {
  border-color: #3F4577;
}

html.dark-mode .user-dropdown a:hover, 
body.dark-mode .user-dropdown a:hover {
  background-color: #3F4577;
}

/* Ajustes de contraste para modo oscuro */
html.dark-mode .footer-links a, 
body.dark-mode .footer-links a,
html.dark-mode .site-info, 
body.dark-mode .site-info {
  color: #A0AEC0; /* Texto más claro para mejorar legibilidad */
}

/* 
 * Detección automática de preferencias del sistema 
 */
@media (prefers-color-scheme: dark) {
  html:not(.light-mode) {
    --color-background: #2A2D45;
    --color-background-alt: #343A5E;
    --color-text: var(--color-light);
    --color-text-light: #A0AEC0;
    
    /* Soft Neubrutalism shadows para modo oscuro */
    --shadow-sm: 3px 3px 0 rgba(0, 0, 0, 0.2);
    --shadow-md: 3px 3px 0 rgba(0, 0, 0, 0.3);
    --shadow-lg: 5px 5px 0 rgba(0, 0, 0, 0.4);
    
    --border-color: #3F4577;
    
    --card-background: #343A5E;
    --input-background: #2A2D45;
    --header-background: #2A2D45;
    --sidebar-background: #343A5E;
    --footer-background: #343A5E;
  }
  
  /* Aplicar los mismos estilos específicos para la detección automática */
  html:not(.light-mode) .card {
    background-color: #343A5E;
    border-color: #4E56A6;
  }
  
  html:not(.light-mode) .button {
    box-shadow: 3px 3px 0 rgba(0, 0, 0, 0.3);
  }
  
  html:not(.light-mode) .site-header {
    border-color: #3F4577;
  }
  
  html:not(.light-mode) .site-footer {
    border-color: #3F4577;
  }
  
  html:not(.light-mode) .theme-toggle {
    background-color: #3F4577;
    border-color: #4E56A6;
  }
  
  html:not(.light-mode) .theme-toggle:hover {
    background-color: #4E56A6;
  }
  
  html:not(.light-mode) input,
  html:not(.light-mode) textarea,
  html:not(.light-mode) select {
    background-color: #2A2D45;
    border-color: #3F4577;
    color: var(--color-light);
  }
  
  html:not(.light-mode) input:focus,
  html:not(.light-mode) textarea:focus,
  html:not(.light-mode) select:focus {
    border-color: var(--color-primary);
    box-shadow: 0 0 0 2px rgba(255, 107, 107, 0.3);
  }
  
  html:not(.light-mode) table th {
    background-color: #3F4577;
    border-color: #4E56A6;
  }
  
  html:not(.light-mode) table td {
    border-color: #3F4577;
  }
  
  html:not(.light-mode) .badge {
    background-color: rgba(255, 255, 255, 0.05);
  }
  
  html:not(.light-mode) .card {
    box-shadow: 3px 3px 0 rgba(0, 0, 0, 0.3);
  }
}