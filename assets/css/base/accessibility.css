/**
 * NovaUI - Accessibility Styles
 * Estilos relacionados con la accesibilidad
 */

/* Skip links - Permite saltar a contenido principal mediante teclado */
.skip-link {
  position: absolute;
  top: -100px;
  left: 0;
  background-color: var(--color-primary);
  color: white;
  padding: var(--spacing-sm) var(--spacing-md);
  text-decoration: none;
  z-index: 999;
  transition: top 0.3s;
}

.skip-link:focus {
  top: 0;
  outline: none;
}

/* Screen-reader text - Oculto visualmente pero accesible para lectores de pantalla */
.screen-reader-text {
  border: 0;
  clip: rect(1px, 1px, 1px, 1px);
  clip-path: inset(50%);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
  word-wrap: normal;
}

.screen-reader-text:focus {
  background-color: var(--color-background);
  border-radius: var(--border-radius-md);
  box-shadow: var(--shadow-md);
  clip: auto;
  clip-path: none;
  color: var(--color-text);
  display: block;
  font-size: var(--font-size-md);
  font-weight: var(--font-weight-medium);
  height: auto;
  left: 5px;
  line-height: normal;
  padding: var(--spacing-md);
  text-decoration: none;
  top: 5px;
  width: auto;
  z-index: 100000;
}

/* Estilos para mejorar contrastes en modo oscuro/claro */
@media (prefers-color-scheme: dark) {
  .has-reduced-contrast {
    --color-primary: #FF9595; /* Versión más clara para mejor contraste */
    --color-text: #FFFFFF;    /* Texto más claro */
  }
}

/* Reducción de movimiento para quienes lo prefieren */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Indicadores de foco personalizados */
/* Mantenemos el indicador de foco visible para usuarios de teclado */
*:focus-visible {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
}

/* Mejoras de contraste para enlaces */
.contrast-dark a {
  color: #90CAF9; /* Azul más claro para mejor contraste en fondo oscuro */
}

.contrast-light a {
  color: #0D47A1; /* Azul más oscuro para mejor contraste en fondo claro */
}

/* Utilidades para tamaños de texto accesibles */
.text-size-base {
  font-size: 1rem !important; /* 16px si no hay zoom */
}

.text-size-large {
  font-size: 1.25rem !important; /* 20px si no hay zoom */
}

.text-size-larger {
  font-size: 1.5rem !important; /* 24px si no hay zoom */
}

/* Utilidades para espaciado accesible */
.touch-target-large {
  min-height: 44px;
  min-width: 44px;
}

/* Mejorar la legibilidad del texto */
.readable-text {
  max-width: 70ch; /* Limitar el ancho para mejorar la legibilidad */
  line-height: 1.6;
}

/* Quitamos animaciones para quienes prefieren movimiento reducido */
.motion-safe {
  transition: all var(--transition-normal);
}

@media (prefers-reduced-motion: reduce) {
  .motion-safe {
    transition: none;
  }
}

/* Clases para ayudar con la navegación por teclado */
[tabindex="-1"]:focus {
  outline: none !important;
}

/* Mejores indicadores para inputs con errores para daltónicos */
.input-error {
  border: 2px solid var(--color-error) !important;
  background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23F76F8E' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3ccircle cx='12' cy='12' r='10'%3e%3c/circle%3e%3cline x1='12' y1='8' x2='12' y2='12'%3e%3c/line%3e%3cline x1='12' y1='16' x2='12.01' y2='16'%3e%3c/line%3e%3c/svg%3e");
  background-repeat: no-repeat;
  background-position: calc(100% - 10px) center;
  background-size: 24px;
  padding-right: 40px !important;
}

/* Mejores indicadores para inputs válidos para daltónicos */
.input-valid {
  border: 2px solid var(--color-success) !important;
  background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%237BC950' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='20 6 9 17 4 12'%3e%3c/polyline%3e%3c/svg%3e");
  background-repeat: no-repeat;
  background-position: calc(100% - 10px) center;
  background-size: 24px;
  padding-right: 40px !important;
}

/* ARIA roles específicos */
[role="alert"],
[role="alertdialog"] {
  border-left: 4px solid var(--color-error);
  background-color: rgba(247, 111, 142, 0.1);
  padding: var(--spacing-md);
  margin-bottom: var(--spacing-md);
  border-radius: var(--border-radius-md);
}

[role="status"] {
  border-left: 4px solid var(--color-success);
  background-color: rgba(123, 201, 80, 0.1);
  padding: var(--spacing-md);
  margin-bottom: var(--spacing-md);
  border-radius: var(--border-radius-md);
}
